<div
  class="mdx-outdent space-y-pad border-y-(length:--border-w) border-style p-pad-2 desktop:rounded-xl desktop:border-x-(length:--border-w)"
>
  <div class="flex justify-between gap-pad">
    <p class="font-bold text-heading">Break everything!</p>
    <button
      id="reset-button"
      class="text-link-primary transition-colors hover:text-link-primary-hover"
      >Reset</button
    >
  </div>

  <div class="space-y-0.5">
    <div class="flex items-center justify-between gap-pad">
      <label for="spacing-slider">Padding (<code>--spacing-pad</code>)</label><p
        id="spacing-value"
        class=""
      >
        9.4px
      </p>
    </div>
    <input
      id="spacing-slider"
      type="range"
      value="9.375"
      min="0"
      max="100"
      step="0.1"
      class="w-full"
    />
  </div>

  <div class="space-y-0.5">
    <div class="flex items-center justify-between gap-pad">
      <label for="border-slider">Border width (<code>--border-w</code>)</label
      ><p id="border-value" class="">9.4px</p>
    </div>
    <input
      id="border-slider"
      type="range"
      value="2"
      min="0"
      max="25"
      step="1"
      class="w-full"
    />
  </div>
</div>

<script>
  const body = document.body;

  const spacingSlider =
    document.querySelector<HTMLInputElement>("#spacing-slider");
  const spacingValue =
    document.querySelector<HTMLParagraphElement>("#spacing-value");

  const borderSlider =
    document.querySelector<HTMLInputElement>("#border-slider");
  const borderValue =
    document.querySelector<HTMLParagraphElement>("#border-value");

  const resetBtn = document.querySelector<HTMLButtonElement>("#reset-button");

  function updateSliderValue() {
    if (!spacingSlider || !spacingValue) {
      console.error("Spacing slider/value not found!");
      return;
    }

    if (!borderSlider || !borderValue) {
      console.error("Border width slider/value not found!");
      return;
    }

    if (!resetBtn) {
      console.error("Reset button not found!");
      return;
    }

    spacingValue.textContent = `${spacingSlider.value}px`;
    spacingSlider.addEventListener("input", (event) => {
      const target = event.target as HTMLInputElement;
      const spacing = `${target.value}px`;

      spacingValue.textContent = spacing;
      body.style.setProperty("--spacing-pad", spacing);
    });

    borderValue.textContent = `${borderSlider.value}px`;
    borderSlider.addEventListener("input", (event) => {
      const target = event.target as HTMLInputElement;
      const borderWidth = `${target.value}px`;

      borderValue.textContent = borderWidth;
      body.style.setProperty("--border-w", borderWidth);
    });

    resetBtn.addEventListener("click", () => {
      body.style.removeProperty("--spacing-pad");
      spacingSlider.value = "9.375";
      spacingValue.textContent = `${spacingSlider.value}px`;

      body.style.removeProperty("--border-w");
      borderSlider.value = "2";
      borderValue.textContent = `${borderSlider.value}px`;
    });
  }

  updateSliderValue();
</script>
