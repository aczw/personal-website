---
import { cn } from "@/utils/cn";
import { ArrowUpRight } from "lucide-astro";

interface Props {
  href: string;
  title?: string;
  newTab?: boolean;
  icon?: boolean;
  className?: string;
}

const { href, title, newTab, icon, className } = Astro.props;
---

<a
  href={href}
  target={newTab !== undefined ? (newTab ? "_blank" : "_self") : "_self"}
  title={title}
  aria-label={title}
  class={cn(
    "w-fit text-sweater-3 underline decoration-sweater-3/50 decoration-1 underline-offset-2 transition hover:text-sweater-1 hover:decoration-sweater-1",
    className,
  )}
>
  <slot />
  {
    /** partially copied from https://github.com/bdsqqq/igorbedesqui.com/blob/1aaf4c14f1de110ff00cf4a0db1a1f3d13d18193/components/ui/StyledLink.tsx#L49 */
    newTab && (icon ?? true) ? (
      <span class="whitespace-nowrap">
        <ArrowUpRight
          size={14}
          class="inline align-baseline"
        />
      </span>
    ) : null
  }
</a>
