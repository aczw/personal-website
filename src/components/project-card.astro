---
import { Link } from "@/components/react/link";
import type { Project } from "@/utils/types";
import { Image } from "astro:assets";
import Badge from "./badge.astro";

interface Props {
  project: Project;
  index: number;
}

const { project, index } = Astro.props;
---

<li
  class="grid animate-[slide_200ms_ease-out_var(--animation-delay)_1_backwards] gap-3 rounded-lg bg-sweater-9 p-4 sm:grid-cols-7 sm:gap-4 sm:bg-transparent sm:p-0"
  style={{ "--animation-delay": `${(index + 1) * 30}ms` }}
>
  <Image
    class="max-h-72 rounded-lg border-4 border-sweater-8 bg-sweater-8 object-cover object-top sm:col-span-2 sm:max-h-48"
    src={import(`../assets/projects/${project.imgName}.png`)}
    alt={project.alt}
  />
  <div class="flex flex-col space-y-3 sm:col-span-5">
    {
      project.href ? (
        <Link
          href={project.href}
          newTab
          className="text-xl font-mono"
        >
          <h3 class="sm:leading-none">{project.name}</h3>
        </Link>
      ) : (
        <h3 class="font-mono text-xl text-sweater-3 sm:leading-none">
          {project.name}
        </h3>
      )
    }
    <div class="flex flex-wrap gap-2.5">
      {project.tags.map((tag) => <Badge>{tag}</Badge>)}
    </div>
    <p class="rounded-lg bg-sweater-9 sm:p-4">
      {project.desc}
    </p>
  </div>
</li>
