---
import { Link } from "@/components/react/link";
import type { Project } from "@/utils/types";
import { Image } from "astro:assets";
import Badge from "./badge.astro";

interface Props {
  project: Project;
  index: number;
}

const { project, index } = Astro.props;
---

<div
  class="col-span-1 mb-12 animate-fade break-inside-avoid space-y-3 rounded-lg sm:mb-8 lg:mb-16"
  style={{ "--delay": `${(index + 1) * 80}ms` }}
>
  <Image
    class="max-h-64 rounded-lg bg-sweater-9 object-cover object-top xs:max-h-96 md:max-h-80 lg:max-h-96"
    src={import(`../assets/projects/${project.imgName}.png`)}
    alt={project.alt}
  />
  {
    project.href ? (
      <Link
        href={project.href}
        newTab
        className="text-xl font-mono"
      >
        <h3 class="pb-1 pt-3 leading-none">{project.name}</h3>
      </Link>
    ) : (
      <h3 class="font-mono text-xl leading-none text-sweater-2">
        {project.name}
      </h3>
    )
  }
  <span class="flex flex-wrap gap-2.5">
    {project.tags.map((tag) => <Badge>{tag}</Badge>)}
  </span>
  <p>
    {project.desc}
  </p>
</div>
