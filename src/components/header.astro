---
import Logo from "@/components/logo.astro";
import { Button } from "@/components/react/button";
import { Link } from "@/components/react/link";
import { removeTrailingSlash } from "@/utils/remove-trailing-slash";
import { FileText, PaintBucket, TerminalSquare } from "lucide-astro";

// see https://github.com/withastro/astro/issues/5248
const { pathname } = Astro.url;
const path = removeTrailingSlash(pathname);
---

<header class="bg-ash-10/90 fixed z-10 w-full">
  <div
    aria-hidden="true"
    class="absolute inset-x-0 top-0 h-header backdrop-blur-3xl"
  >
  </div>
  <nav class="relative flex items-center justify-between">
    <a
      href="/"
      class="group p-[calc((theme(spacing.header)-26px)/2)]"
    >
      <Logo
        width={26}
        height={26}
        alt="Charles Wang"
        className="fill-ash-4 group-hover:fill-ash-1 transition group-hover:rotate-[-15deg]"
      />
    </a>
    <div class="flex items-center space-x-6 py-4 pl-2 pr-4">
      <Link
        href="/projects"
        className={`flex items-center ${
          path === "/projects" ? "text-ash-1 decoration-ash-1/50" : ""
        }`}
      >
        <TerminalSquare
          size={16}
          class="mr-1 hidden xs:block"
        /> Projects
      </Link>

      <Link
        href="/portfolio"
        className={`flex items-center ${
          path === "/portfolio" ? "text-ash-1 decoration-ash-1/50" : ""
        }`}
      >
        <PaintBucket
          size={16}
          class="mr-1 hidden xs:block"
        /> Portfolio
      </Link>

      <a
        href="/resume.pdf"
        target="_blank"
      >
        <Button>
          <FileText
            size={16}
            class="mr-1 hidden xs:block"
          />Resume
        </Button>
      </a>
    </div>
  </nav>
</header>
