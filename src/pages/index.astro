---
import { getCollection, getEntries } from "astro:content";

import ArrowRight from "lucide-astro/ArrowRight";
import Github from "lucide-astro/Github";
import Linkedin from "lucide-astro/Linkedin";
import Mail from "lucide-astro/Mail";
import ScrollText from "lucide-astro/ScrollText";

import Link from "@/components/link.astro";
import ProjectCover from "@/components/project-cover.astro";
import CommonLayout from "@/layouts/common-layout.astro";
import BaseLayout from "@/layouts/base-layout.astro";

let posts = await getCollection("posts");
posts = posts.sort((a, b) => b.data.posted.getTime() - a.data.posted.getTime()).slice(0, 3);

const projects = await getEntries([
  { collection: "projects", id: "mini-minecraft" },
  { collection: "projects", id: "door" },
  { collection: "projects", id: "path-tracer" },
  { collection: "projects", id: "rcw" },
]);
---

<BaseLayout
  meta={{
    kind: "route",
    title: null,
    description: "Computer graphics student at the University of Pennsylvania.",
    ogImageParams: "Graphics programming, games, websites.",
  }}
>
  <div class="w-screen overflow-x-clip px-pad">
    <div
      class="mx-auto max-w-normal border-x-(length:--border-w) border-border-primary pt-6 sm:pt-12"
    >
      <header class="grid-line-before grid-line-after relative grid grid-cols-1 480:grid-cols-2">
        <div
          class="space-y-1 border-b-(length:--border-w) border-dashed border-border-secondary px-pad pt-[calc(1.4*var(--spacing-pad))] pb-pad text-sweater-4 480:border-b-0"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="1.7rem"
            height="1.7rem"
            viewBox="0 0 25 25"
            fill="currentColor"
            aria-hidden="true"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M.626.626a2.139 2.139 0 0 1 3.025 0l1.82 1.821A12.2 12.2 0 0 1 12.536.21a12.2 12.2 0 0 1 7.022 2.21L21.35.625a2.139 2.139 0 0 1 3.025 3.025L22.58 5.443a12.2 12.2 0 0 1 2.21 7.022 12.2 12.2 0 0 1-2.238 7.063l1.82 1.821a2.139 2.139 0 1 1-3.024 3.025l-1.833-1.833a12.2 12.2 0 0 1-6.981 2.18 12.2 12.2 0 0 1-7.023-2.209L3.65 24.374a2.139 2.139 0 1 1-3.025-3.025l1.862-1.861a12.2 12.2 0 0 1-2.21-7.023c0-2.594.806-5 2.181-6.981L.626 3.65a2.139 2.139 0 0 1 0-3.025ZM8.61 19.414a7.943 7.943 0 0 0 3.925 1.03 7.944 7.944 0 0 0 3.88-1.005L12.5 15.524l-3.89 3.89Zm.866-6.914-3.89 3.89a7.943 7.943 0 0 1-1.03-3.925c0-1.408.364-2.731 1.005-3.88L9.476 12.5Zm6.048 0 3.935 3.934a7.944 7.944 0 0 0 1.055-3.969 7.943 7.943 0 0 0-1.03-3.925l-3.96 3.96Zm.935-6.984L12.5 9.476 8.566 5.54a7.943 7.943 0 0 1 3.969-1.055c1.426 0 2.766.374 3.924 1.03Z"
            ></path>
          </svg>

          <h1 class="cursor-default text-3xl leading-none font-bold">Charles Wang</h1>
        </div>

        <nav
          class="grid grid-cols-2 divide-x-(length:--border-w) divide-dashed divide-border-secondary border-dashed border-border-secondary text-xl leading-none font-bold text-sweater-2 *:flex *:items-center *:p-pad *:transition-colors *:hover:bg-border-primary *:hover:text-sweater-1 480:grid-cols-1 480:divide-x-0 480:divide-y-(length:--border-w) 480:border-l-(length:--border-w) 480:text-lg"
        >
          <a href="/projects"><span>Graphics, games, art</span></a>
          <a href="/posts"><span>Writing</span></a>
        </nav>
      </header>

      <main class="mt-pad-2 space-y-pad-2">
        <section class="grid-line-before grid-line-after relative">
          <div class="grid grid-cols-2 gap-pad-2 p-pad">
            <p class="col-span-2 560:col-span-1">
              Hi! I'm a fourth year student in the Digital Media Design program at UPenn. I'm
              concurrently finishing a Master's in Computer Graphics and Game Technology.
            </p>
            <p class="col-span-2 560:col-span-1">
              I help run <Link href="https://pennupgrade.com/" target="_blank">UPGRADE</Link>, our
              game dev club, and am part of the <Link
                href="https://cg.cis.upenn.edu/"
                target="_blank">CG@Penn</Link
              > student board. Previously I interned at Snap and TikTok to work on their graphics engines.
            </p>
            <p class="col-span-2 subtitle 480:col-span-1">
              In my free time I like running, making playlists, reading manga, and riding SEPTA.
            </p>
            <p class="hidden subtitle 480:block">
              You can find my socials and resumé below. Thanks for stopping by. <span
                aria-hidden="true"
                class="whitespace-nowrap">(〜￣▽￣)〜</span
              >
            </p>
          </div>

          <div
            class="col-span-2 grid grid-cols-4 divide-x-(length:--border-w) divide-dashed divide-border-secondary border-t-(length:--border-w) border-dashed border-border-secondary"
          >
            <a href="/_files/resume.pdf" target="_blank" class="p-pad">Resume</a>
            <a href="https://www.linkedin.com/in/zwcharl/" target="_blank" class="p-pad">LinkedIn</a
            >
            <a href="https://www.github.com/aczw" target="_blank" class="p-pad">GitHub</a>
            <a href="mailto:zwcharl@gmail.com" target="_blank" class="p-pad">Email</a>
          </div>
        </section>

        <section class="grid-line-before grid-line-after relative">Projects</section>

        <section class="grid-line-before grid-line-after relative">Writing</section>
      </main>

      <footer class="grid-line-before relative mt-pad-2 pb-6 sm:pb-12">Footer</footer>
    </div>
  </div>
</BaseLayout>
